# ESP32_LM5175 项目简介

这是一个基于 ESP32 的 MicroPython 项目，用于接收来自 STM32 微控制器的数据并通过 BLE（蓝牙低功耗）转发。项目主要包含两个文件：[main.py] 和 [BLE.py]。

## 功能概述

该项目实现了以下主要功能：

1. **串口数据接收**：从 STM32 微控制器通过 UART 接收数据帧
2. **BLE 通信**：使用 ESP32 的蓝牙功能，通过 Nordic UART Service (NUS) 将数据转发给连接的设备
3. **数据帧解析**：解析特定格式的数据帧并验证其完整性
4. **双向通信**：支持从 BLE 接收数据并转发回 STM32

## 文件说明

### main.py
主程序文件，负责：
- 初始化 UART 连接以与 STM32 通信
- 初始化 BLE 连接并设置服务
- 实现数据帧解析和验证逻辑
- 将解析后的数据通过 BLE 转发
- 处理从 BLE 接收到的数据并转发给 STM32

### BLE.py
BLE 功能实现模块，提供：
- BLE UART 服务的封装
- 连接管理（连接和断开连接处理）
- 数据收发功能
- 广播数据包的生成和发送

## 工作原理

1. STM32 通过 UART 向 ESP32 发送数据帧，数据帧包含同步字、版本号、数据类型、序列号、数据内容和 CRC 校验
2. ESP32 接收并解析这些数据帧，验证其完整性（可选）
3. 有效的数据帧通过 BLE 转发到连接的设备（如手机或电脑）
4. 从 BLE 接收到的数据可以转发回 STM32，实现双向通信

## 使用场景

此项目适用于需要将基于 STM32 的设备通过蓝牙连接到其他设备（如手机、平板或电脑）的场景，例如：
- 无线数据采集系统
- 物联网传感器节点
- 嵌入式设备的无线调试接口

## 硬件要求

- ESP32 开发板
- STM32 微控制器（或其他可通过 UART 发送数据的设备）
- 连接线和电源

## 注意事项

在使用前需要根据实际硬件配置修改 [main.py](file://E:\python\ESP32_LM5175\main.py) 中的 UART 引脚定义。

# 许可证
此项目遵循 MIT 许可证。
